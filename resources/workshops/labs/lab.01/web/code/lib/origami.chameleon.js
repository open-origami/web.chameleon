const e="object",t="array",n="function",r="number",o="boolean",i="string",u="undefined",c=".",f=void 0;let s=e=>t=>typeof e[t]!==n,l=e=>t=>typeof e[t]===n,a=e=>e=>"constructor"!==e;function g(g){function d(e){if((e=typeof e===u?g:e)===Object.prototype||e===Array.prototype||e===Function.prototype||e===String.prototype||e===Number.prototype||e===Boolean.prototype||null===e)return[];return[...d(Object.getPrototypeOf(e)),...Object.getOwnPropertyNames(e)].filter((function(e,t,n){return t<=n.indexOf(e)}))}function y(e){return e?e.split(c).reduce((function(e,t){return Array.isArray(e)&&isNaN(t)?e.map((function(e){return e[t]})):e&&e[t]}),g):g}function p(e){const n=y(e);return n instanceof Array?t:typeof n}function h(e){return p(e)===n}function b(e){return p(e)===t}function m(t){return p(t)===e}function v(e){return p(e)===u}function O(e,t){return d().reduce((function(t,n,r){return e(t,g[n],n,g)}),t)}return g=g||{},{at:function(e){if(d().length>e){const t=d()[e];return{key:t,value:y(t)}}},get keys(){return d()},get properties(){return d(g).filter(s(g))},get methods(){return d(g).filter(l(g)).filter(a())},get prototype(){return Object.getPrototypeOf(g)},get:y,set:function(e,t){return e.split(c).reduce((function(e,n,r,o){return e[n]=r<o.length-1?e[n]||{}:t}),g)},has:function(e){return!v(e)},remove:function(e){return e.split(c).reduce((function(e,t,n,r){return n<r.length-1?e?e[t]:f:e&&delete e[t]}),g)},type:p,isFunction:h,isArray:b,isObject:m,isNumber:function(e){return p(e)===r},isBoolean:function(e){return p(e)===o},isString:function(e){return p(e)===i},isPrimitive:function(e){return!(v(e)||m(e)||b(e)||h(e))},isUndefined:v,asArray:function(e){return b(e)?y(e):[y(e)]},asFunction:function(e){return h(e)?y(e):function(){return y(e)}},forEach:function(e){d().forEach((function(t,n){e(g[t],t,g)}))},map:function(e){return O((function(t,n,r){return t[r]=e(n),t}),{})},reduce:O,filter:function(e){return O((function(t,n,r){return e(n)&&(t[r]=n),t}),{})},every:function(e){return O((function(t,n,r){return t&&e(n)}),!0)},some:function(e){return O((function(t,n,r){return t||e(n)}),!1)}}}const d="before",y="after",p="around",h="provided",b="except",m=void 0;function v(e){function t(e){if(e.advisable)return e;const t=function(...n){let r=m;return t.provided.every(e=>e(...n))&&(t.except.some(e=>e(...n))||(r=t.before.reduce((e,t)=>t(...n,e),r),r=t.around.reduce((t,r)=>r(e,...n,t),r),0===t.around.length&&(r=e(...n)),r=t.after.reduce((e,t)=>t(...n,e),r)||r)),r};return t.provided=t.provided||[],t.except=t.except||[],t.before=t.before||[],t.after=t.after||[],t.around=t.around||[],t.advisable=!0,t}function n(t){return function(n){return e.advisable&&(e[t]=e[t].filter((function(e){return e!==n}))),e}}function r(t,n){return n=n||e,function(...e){let r=n(...e);return r===m?r:t(r)}}function o(t){return function(...n){setTimeout((function(){e(...n)}),t||0)}}return e=e||function(){},{fix:function(t){return function(...n){return e.apply(this,n.splice(0,t))}},first:function(...t){return function(...n){return e(...t,...n)}},last:function(...t){return function(...n){return e(...n,...t)}},lCurry:function(){return function t(...n){return n.length>=e.length?e(...n):function(...e){return t(...n,...e)}}()},rCurry:function(){return function t(...n){return n.length>=e.length?e(...n):function(...e){return t(...e,...n)}}()},before:function(n){return(e=t(e)).before.push(n),e},after:function(n){return(e=t(e)).after.push(n),e},around:function(n){return(e=t(e)).around.push(n),e},provided:function(n){return(e=t(e)).provided.push(n),e},except:function(n){return(e=t(e)).except.push(n),e},not:{before:n(d),after:n(y),around:n(p),provided:n(h),except:n(b)},composeWith:r,sequenceWith:function(...e){return e.reduce((function(e,t){return r(t,e)}),e=>e)},fluent:function(t,n){let r=n||function(){};return function(...n){return r(e(...n)),t}},memoize:function(){let t={};return function(...n){return n in t?t[n]:t[n]=e(...n)}},overload:function(...e){return function(...t){return(e.filter((function(e){return e.length===t.length}))[0]||(e=>e))(...t)}},delay:o,forever:function(t){return function(...n){return setInterval((function(){e(...n)}),t||0)}},retry:function(e,t){return function(...e){o(t)(...e)}},defer:function(){return o(0)}}}const O=void 0;function k(e){let t=g(e=(e=e||{}).prototype?e.prototype:e);function n(n,r){return t.isFunction(n)&&(e[n]=e[n].bind(r)),this}function r(t,n){return e[t]=n,this}function o(t){return delete e[t],this}function i(e,t){return t in e&&r(t,e[t]),this}function u(e,t){return i(e,t),k(e).remove(t),this}function c(){return k(Object.getPrototypeOf(e))}function f(t){return Object.getOwnPropertyDescriptor(e,t)}function s(t,n){return function(r,o){return e[r]=v(e[r]).not[t](o),n}}let l={get:function(){return e},bind:n,context:function(t){return g(e).keys.forEach((function(e){n(e,t)})),this},add:r,remove:o,update:function(t,n){return t in e&&r(t,n),this},rename:function(t,n){return t in e&&!(n in e)&&(r(n,e[t]),o(t)),this},copy:i,move:u,mix:function(e,t,r){g(e);const o=r||(e=>e);return g(e).keys.filter(o).filter(e=>"constructor"!==e).forEach((function(r){i(e,r),t&&n(r,t)})),this},clone:function(){return k(Object.assign({},e))},create:function(){return Object.create(e)},copyUp:function(t){return k(c().get()).copy(e,t),this},copyDown:function(e){return i(c().get(),e),this},moveUp:function(t){return k(c().get()).move(e,t),this},moveDown:function(e){return u(c().get(),e),this},prototype:function(t){return t==O?c():function(t){return t=t.prototype?t.prototype:t,Object.setPrototypeOf(e,t),k(e)}(t)},before:function(n,r){return t.isFunction(n)?e[n]=v(e[n]).before(r):function(t,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(t);Object.defineProperty(e,t,{get:function(){return n.get(),r.get()},set:function(e){n.set(e),r.set(e)}})}(n,r),this},after:function(n,r){return t.isFunction(n)?e[n]=v(e[n]).after(r):function(t,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(t);Object.defineProperty(e,t,{get:function(){let e=n.get();return r.get(),e},set:function(e){r.set(e),n.set(e)}})}(n,r),this},around:function(t,n){return e[t]=v(e[t]).around(n),this},provided:function(t,n){return e[t]=v(e[t]).provided(n),this},except:function(t,n){return e[t]=v(e[t]).except(n),this},property:function(t,n){return n?(function(t,n){Object.defineProperty(e,t,n)}(t,n),this):f(t)},delegate:function(t,n){return e[t]=function(...r){let o=n[t].call(e,...r);return o===n?this:o},this},forward:function(t,n){return e[t]=function(...e){let r=n[t].call(n,...e);return r===n?this:r},this},fProxy:function(){let n={};return t.keys.forEach((function(r){t.isFunction(r)&&(n[r]=function(...t){let o=e[r](...t);return o===e?n:o})})),n},dProxy:function(n){let r={};return t.keys.forEach((function(o){t.isFunction(o)&&(r[o]=function(...t){let i=e[o].apply(n,t);return i===e?r:i})})),r},not:{}};return l.not.before=s("before",l),l.not.after=s("after",l),l.not.around=s("around",l),l.not.provided=s("provided",l),l.not.except=s("except",l),l}const L="get",x="set",C="add",P="remove";const j="get",E="set",w="remove";function F(e){let t={},n=function(e){let t=k(e),n=new WeakMap;function r(e){if(n.has(e))return n.get(e);{function t(...t){t.pop(),e(...t)}return n.set(e,t),t}}return{bind:function(e,n){let o=r(n);e===x?(t.after(C,o),t.after(x,o)):t.after(e,o)},unbind:function(n,o){let i=o&&r(o);n===x?(o&&t.not.after(C,i),o&&t.not.after(x,i),!o&&(e[C].after=[]),!o&&(e[x].after=[])):(o&&t.not.after(n,i),!o&&(e[n].after=[]))},reset:function(){e[L].after=[],e[x].after=[],e[C].after=[],e[P].after=[]}}}(e);return t.get=function(e){return n.bind(j,e),t},t.set=function(e){return n.bind(E,e),t},t.remove=function(e){return n.bind(w,e),t},t.reset=n.reset,t.not={},t.not.get=function(e){return n.unbind(j,e),t},t.not.set=function(e){return n.unbind(E,e),t},t.not.remove=function(e){return n.unbind(w,e),t},t}const{isArray:D}=Array;function A(){let e=window,t=(e.Origami=e.Origami||{},e.Origami.Whale=e.Origami.Whale||{},e.Origami.Whale.Store=e.Origami.Whale.Store||function(e){let t=new Map,n=e||new Map,r={config:function(e){return e.store&&(t=new Map(Object.entries(e.store))),e.parent&&(n=e.parent),this},get:function(e){let r=t.get(e),o=n.get(e);return r&&r||o&&o||r},set:function(e,n){return t.set(e,n),this},add:function(e,n){let r=t.get(e);return D(r)?t.set(e,[...r,n]):t.set(e,[n]),this},keys:function(){let e=new Set,r=t.keys(),o=n.keys();for(let t of o)e.add(t);for(let t of r)e.add(t);return[...e]},has:function(e,n){let r=t.get(e);return D(r)?r.includes(n):void 0!==r},remove:function(e,n){let r=e=>void 0!==e;return r(e)&&r(n)&&function(e,n){let r=t.get(e),o=D(r),i=o&&r.filter(e=>e!==n);o&&t.set(e,i)}(e,n),r(e)&&!r(n)&&function(e){t.delete(e)}(e),!r(e)&&!r(n)&&t.clear(),this}};return r.hooks=F(r),r}(),e.Origami.Whale.Store);return{get:function(e){return t.get(e)},set:function(e,n){t.set(e,n)},keys:function(){return t.keys()},remove:function(e){t.remove(e)}}}const I=function(){let e=A();return{key:function(t){return e.get(t)},keys:function(){return e.keys()},define:function(t){for(let n in t){let r=t[n];e.set(n,r)}return this},undefine:function(t){if(t)for(let n in t)e.remove(n);else e.remove();return this}}}();var W={"Logger.Labels.Debug":"[DEBUG]","Logger.Labels.Info":" [INFO]","Logger.Labels.Warn":" [WARN]","Logger.Labels.Error":"[ERROR]","Logger.Labels.Fatal":"[FATAL]","Logger.Levels.Debug":1,"Logger.Levels.Info":2,"Logger.Levels.Warn":3,"Logger.Levels.Error":4,"Logger.Levels.Fatal":5,"Logger.Config.Format":"@Label @Target @Prefix - @Message","Logger.Config.Prefix":"","Logger.Config.Level":3};var M={install:function(){I.define(W)},uninstall:function(){I.undefine(W)}};function S(e,t){return function(n,...r){let o=I.key("Logger.Config.Level");n>=(e.level||o)&&t(n,...r)}}const N=I.key("Logger.Labels.Debug"),R=I.key("Logger.Labels.Info"),T=I.key("Logger.Labels.Warn"),U=I.key("Logger.Labels.Error"),B=I.key("Logger.Labels.Fatal"),K="",q=" ",z=[N,R,T,U,B];function G(e,t){return function(n,...r){let o=I.key("Logger.Config.Format")||K,i=I.key("Logger.Config.Prefix")||K,u=(I.key("Logger.Config.Level"),e.level,r.join(q)),c=z[n-1],f=e.Key,s=o;s=(s=(s=(s=s.replace("@Label",c)).replace("@Prefix",i)).replace("@Target",f)).replace("@Message",u),t(n,s)}}const H=console;function J(e,t){return function(e,...n){H.log(...n),t(e,...n)}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=I.key("Logger.Levels.Debug"),Y=I.key("Logger.Levels.Info"),Z=I.key("Logger.Levels.Warn"),$=I.key("Logger.Levels.Error"),_=I.key("Logger.Levels.Fatal");function ee(e,t){let n=t||{},r=n.filters,o=function(e){let t=[];return{filter:function(e){return(0,Array.isArray)(e)&&(t=[...t,...e]),(e=>"function"==typeof e)(e)&&(t=[...t,e]),this},create:function(){let n=[...t].reverse(),r=function(){};return function(...t){return n.reduce((function(t,n){return n(e,t)}),r)(...t)}}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{Key:e})).filter(S).filter(G).filter(J).filter(r).create();return{debug:function(...e){o(X,...e)},info:function(...e){o(Y,...e)},warn:function(...e){o(Z,...e)},fatal:function(...e){o(_,...e)},error:function(...e){o($,...e)}}}var te={"Core.Id":"Core.Id","Core.Family":"Core.Family","Core.Family.Component":"Component","Core.Family.Extension":"Extension","Core.Family.Model":"Model","Core.Extensions.Pending":"Core.Extensions.Pending","Core.Extensions.Installed":"Core.Extensions.Installed"},ne={"Extension.Model":"Extension.Model","Extension.Provider":"Extension.Provider"};const re="origami.chameleon",oe="Package successfully installed",ie="Package successfully uninstalled";var ue=function(){const e=ee(re);return{install:function(){I.define(te),I.define(ne),e.info(oe)},uninstall:function(){I.undefine(te),I.undefine(ne),e.info(ie)}}}();function ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}M.install(),ue.install();const{isArray:se}=Array;function le(e){let t={},n=g(t),r=g(e);let o={config:function(e){return r=e.parent||r,t=e.store||t,n=g(t),this},get:function(e){return n.has(e)?n.isObject(e)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ce(n,!0).forEach((function(t){fe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ce(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.get(e),{},n.get(e)):n.get(e):r.get(e)},set:function(e,t){return n.set(e,t),this},add:function(e,t){let r=n.get(e);return se(r)?n.set(e,[...r,t]):n.set(e,[t]),this},keys:function(e){let t=!!e,r=n.has(e);return t&&r?g(n.get(e)).keys:g(n.get()).keys},has:function(e,t){let r=n.get(e);return se(r)?r.includes(t):void 0!==r},remove:function(e,t){let r=e=>void 0!==e;function o(e){n.remove(e)}return r(e)&&r(t)&&function(e,t){let r=n.get(e),o=se(r),i=o&&r.filter(e=>e!==t);o&&n.set(e,i)}(e,t),r(e)&&!r(t)&&o(e),!r(e)&&!r(t)&&function(){let e=n.keys;for(let t of e)o(t)}(),this}};return o.hooks=F(o),o}const ae="class",ge="object";function de(e){function t(e){return e.toString().startsWith(ae)}return{get object(){return function(e){return t(e)?e.prototype:e}(e)},get class(){return function(e){return t(e)?e:Reflect.getPrototypeOf(e).constructor}(e)},get isObject(){return function(e){return typeof e===ge}(e)},get isClass(){return t(e)}}}const ye=window;var pe=(ye.Origami=ye.Origami||{},ye.Origami.Chameleon=ye.Origami.Chameleon||{},ye.Origami.Chameleon.Store=ye.Origami.Chameleon.Store||new WeakMap,ye.Origami.Chameleon.Store);function he(e){return Ee(e).registry}const be=I.key("Core.Extensions.Pending");let me=e=>de(e).isObject,ve=e=>e;function Oe(e){return function(t){return{install:function(n){if(me(t))e(t).install(n);else{he(ve(t)).add(be,n)}return this},uninstall:function(n){if(me(t))e(t).uninstall(n);else{he(ve(t)).remove(be,n)}return this}}}}const ke=I.key("Core.Extensions.Installed");function Le(e){let t=he(e);function n(e){let n=t.get(ke)||[];return e?n.find((e=>t=>t.class===e)(e)):n}function r(e){return!!n(e)}return{create:function(o){if(r(o))return n(o);{let n=function(e){return{create:function(t){let n=new t(e),r=!0;return{get core(){return e},get class(){return t},get provider(){return n},isOn:()=>r,on(){r=!0},off(){r=!1}}}}}(e).create(o);return t.add(ke,n),n}},get:n,has:r,remove:function(e){let r=n(e);r&&t.remove(ke,r)}}}function xe(e){return function(t){let n=function(e){return function(t){return Le(e).has(t)}}(t),r=e(t);return{install:function(e){return!n(e)&&r.install(e),this},uninstall:function(e){return n(e)&&r.uninstall(e),this}}}}function Ce(e){return function(t){let n=Le(t),r=e(t);return{install:function(e){return n.create(e).provider.install(),r.install(e),this},uninstall:function(e){if(n.has(e)){n.get(e).provider.uninstall(),n.remove(e),r.uninstall(e)}return this}}}}const Pe=I.key("Extension.Provider");function je(e){return function(t){let n=e(t);function r(e){return he(e).has(Pe)}function o(e){return he(e).get(Pe)}return{install:function(e){return r(e)&&(e=o(e)),!r(e)&&n.install(e),this},uninstall:function(e){return r(e)&&(e=o(e)),!r(e)&&n.uninstall(e),this}}}}function Ee(e){return{get registry(){return function(e){let t=de(e).object,n=pe.get(t)||le();return pe.set(t,n),n}(e)},get core(){return{get type(){return{}},get dom(){return{}},get reactive(){return{}},get style(){return{}}}},get extensions(){return function(e){let t=function(e){let t=[];return{filter:function(e){return e&&t.push(e),this},create:function(){return[...t].reverse().reduce((function(e,t){return t(e)}),(function(e){return{install(){return this},uninstall(){return this}}}))(e)}}}(e).filter(Oe).filter(je).filter(xe).filter(Ce).create();return{install:function(e){return t.install(e),this},uninstall:function(e){return t.uninstall(e),this}}}(e)}}}function we(e){return function(t){return e(t)}}const Fe=I.key("Core.Extensions.Pending");function De(e){return{activate:function(){if(e.extended)return e;{class t extends e{constructor(...e){super(...e);let n=Ee(this).extensions,r=he(t).get(Fe)||[];for(let e of r)n.install(e)}}return t.extended=e,t}}}}const Ae=I.key("Core.Id"),Ie=I.key("Core.Family"),We=I.key("Core.Family.Component"),Me=we((function(e){let t=De(e).activate();return he(t).set(Ae,e.name).set(Ie,We),t}));function Se(e){return we((function(t){let n=De(t).activate();return Ee(n).extensions.install(e),n}))}const Ne=I.key("Core.Id"),Re=I.key("Core.Family"),Te=I.key("Core.Family.Extension"),Ue=we((function(e){let t=e.name,n=Te,r=De(e).activate();return he(r).set(Ne,t).set(Re,n),r}));const Be=I.key("Core.Id"),Ke=I.key("Core.Family"),qe=I.key("Core.Family.Extension"),ze=I.key("Extension.Model"),Ge=I.key("Extension.Provider");function He(e){return we((function(t){let n=t.name,r=qe,o=function(e,t){var n;return Ve(n=class{constructor(n){this.model=new e(n),this.ext=new t(n),this.class=t}install(){let e=this.model,t=this.ext;e.install(t)}uninstall(){let e=this.model,t=this.ext;e.uninstall(t)}})||n}(e,t);he(t).set(Be,n).set(Ke,r).set(ze,e).set(Ge,o)}))}const Je=I.key("Core.Family"),Qe=I.key("Core.Family.Model");function Ve(e){return function(e){return he(e).get(Je)===Qe}(e)?He(e):Ue(e)}const Xe=I.key("Core.Id"),Ye=I.key("Core.Family"),Ze=I.key("Core.Family.Model"),$e=we((function(e){let t=e.name,n=Ze;he(e).set(Xe,t).set(Ye,n)}));export{Me as Component,Se as Extends,Ve as Extension,Ee as Inspect,$e as Model};