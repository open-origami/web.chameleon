const t="object",e="array",n="function",r="number",i="boolean",o="string",u="undefined",c=".",f=void 0;let s=t=>e=>typeof t[e]!==n,l=t=>e=>typeof t[e]===n,a=t=>t=>"constructor"!==t;function g(g){function p(t){if((t=typeof t===u?g:t)===Object.prototype||t===Array.prototype||t===Function.prototype||t===String.prototype||t===Number.prototype||t===Boolean.prototype||null===t)return[];return[...p(Object.getPrototypeOf(t)),...Object.getOwnPropertyNames(t)].filter((function(t,e,n){return e<=n.indexOf(t)}))}function y(t){return t?t.split(c).reduce((function(t,e){return Array.isArray(t)&&isNaN(e)?t.map((function(t){return t[e]})):t&&t[e]}),g):g}function d(t){const n=y(t);return n instanceof Array?e:typeof n}function h(t){return d(t)===n}function b(t){return d(t)===e}function v(e){return d(e)===t}function O(t){return d(t)===u}function m(t,e){return p().reduce((function(e,n,r){return t(e,g[n],n,g)}),e)}return g=g||{},{at:function(t){if(p().length>t){const e=p()[t];return{key:e,value:y(e)}}},get keys(){return p()},get properties(){return p(g).filter(s(g))},get methods(){return p(g).filter(l(g)).filter(a())},get prototype(){return Object.getPrototypeOf(g)},get:y,set:function(t,e){return t.split(c).reduce((function(t,n,r,i){return t[n]=r<i.length-1?t[n]||{}:e}),g)},has:function(t){return!O(t)},remove:function(t){return t.split(c).reduce((function(t,e,n,r){return n<r.length-1?t?t[e]:f:t&&delete t[e]}),g)},type:d,isFunction:h,isArray:b,isObject:v,isNumber:function(t){return d(t)===r},isBoolean:function(t){return d(t)===i},isString:function(t){return d(t)===o},isPrimitive:function(t){return!(O(t)||v(t)||b(t)||h(t))},isUndefined:O,asArray:function(t){return b(t)?y(t):[y(t)]},asFunction:function(t){return h(t)?y(t):function(){return y(t)}},forEach:function(t){p().forEach((function(e,n){t(g[e],e,g)}))},map:function(t){return m((function(e,n,r){return e[r]=t(n),e}),{})},reduce:m,filter:function(t){return m((function(e,n,r){return t(n)&&(e[r]=n),e}),{})},every:function(t){return m((function(e,n,r){return e&&t(n)}),!0)},some:function(t){return m((function(e,n,r){return e||t(n)}),!1)}}}const p="before",y="after",d="around",h="provided",b="except",v=void 0;function O(t){function e(t){if(t.advisable)return t;const e=function(...n){let r=v;return e.provided.every(t=>t(...n))&&(e.except.some(t=>t(...n))||(r=e.before.reduce((t,e)=>e(...n,t),r),r=e.around.reduce((e,r)=>r(t,...n,e),r),0===e.around.length&&(r=t(...n)),r=e.after.reduce((t,e)=>e(...n,t),r)||r)),r};return e.provided=e.provided||[],e.except=e.except||[],e.before=e.before||[],e.after=e.after||[],e.around=e.around||[],e.advisable=!0,e}function n(e){return function(n){return t.advisable&&(t[e]=t[e].filter((function(t){return t!==n}))),t}}function r(e,n){return n=n||t,function(...t){let r=n(...t);return r===v?r:e(r)}}function i(e){return function(...n){setTimeout((function(){t(...n)}),e||0)}}return t=t||function(){},{fix:function(e){return function(...n){return t.apply(this,n.splice(0,e))}},first:function(...e){return function(...n){return t(...e,...n)}},last:function(...e){return function(...n){return t(...n,...e)}},lCurry:function(){return function e(...n){return n.length>=t.length?t(...n):function(...t){return e(...n,...t)}}()},rCurry:function(){return function e(...n){return n.length>=t.length?t(...n):function(...t){return e(...t,...n)}}()},before:function(n){return(t=e(t)).before.push(n),t},after:function(n){return(t=e(t)).after.push(n),t},around:function(n){return(t=e(t)).around.push(n),t},provided:function(n){return(t=e(t)).provided.push(n),t},except:function(n){return(t=e(t)).except.push(n),t},not:{before:n(p),after:n(y),around:n(d),provided:n(h),except:n(b)},composeWith:r,sequenceWith:function(...t){return t.reduce((function(t,e){return r(e,t)}),t=>t)},fluent:function(e,n){let r=n||function(){};return function(...n){return r(t(...n)),e}},memoize:function(){let e={};return function(...n){return n in e?e[n]:e[n]=t(...n)}},overload:function(...t){return function(...e){return(t.filter((function(t){return t.length===e.length}))[0]||(t=>t))(...e)}},delay:i,forever:function(e){return function(...n){return setInterval((function(){t(...n)}),e||0)}},retry:function(t,e){return function(...t){i(e)(...t)}},defer:function(){return i(0)}}}const m=void 0;function P(t){let e=g(t=(t=t||{}).prototype?t.prototype:t);function n(n,r){return e.isFunction(n)&&(t[n]=t[n].bind(r)),this}function r(e,n){return t[e]=n,this}function i(e){return delete t[e],this}function o(t,e){return e in t&&r(e,t[e]),this}function u(t,e){return o(t,e),P(t).remove(e),this}function c(){return P(Object.getPrototypeOf(t))}function f(e){return Object.getOwnPropertyDescriptor(t,e)}function s(e,n){return function(r,i){return t[r]=O(t[r]).not[e](i),n}}let l={get:function(){return t},bind:n,context:function(e){return g(t).keys.forEach((function(t){n(t,e)})),this},add:r,remove:i,update:function(e,n){return e in t&&r(e,n),this},rename:function(e,n){return e in t&&!(n in t)&&(r(n,t[e]),i(e)),this},copy:o,move:u,mix:function(t,e,r){g(t);const i=r||(t=>t);return g(t).keys.filter(i).filter(t=>"constructor"!==t).forEach((function(r){o(t,r),e&&n(r,e)})),this},clone:function(){return P(Object.assign({},t))},create:function(){return Object.create(t)},copyUp:function(e){return P(c().get()).copy(t,e),this},copyDown:function(t){return o(c().get(),t),this},moveUp:function(e){return P(c().get()).move(t,e),this},moveDown:function(t){return u(c().get(),t),this},prototype:function(e){return e==m?c():function(e){return e=e.prototype?e.prototype:e,Object.setPrototypeOf(t,e),P(t)}(e)},before:function(n,r){return e.isFunction(n)?t[n]=O(t[n]).before(r):function(e,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(e);Object.defineProperty(t,e,{get:function(){return n.get(),r.get()},set:function(t){n.set(t),r.set(t)}})}(n,r),this},after:function(n,r){return e.isFunction(n)?t[n]=O(t[n]).after(r):function(e,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(e);Object.defineProperty(t,e,{get:function(){let t=n.get();return r.get(),t},set:function(t){r.set(t),n.set(t)}})}(n,r),this},around:function(e,n){return t[e]=O(t[e]).around(n),this},provided:function(e,n){return t[e]=O(t[e]).provided(n),this},except:function(e,n){return t[e]=O(t[e]).except(n),this},property:function(e,n){return n?(function(e,n){Object.defineProperty(t,e,n)}(e,n),this):f(e)},delegate:function(e,n){return t[e]=function(...r){let i=n[e].call(t,...r);return i===n?this:i},this},forward:function(e,n){return t[e]=function(...t){let r=n[e].call(n,...t);return r===n?this:r},this},fProxy:function(){let n={};return e.keys.forEach((function(r){e.isFunction(r)&&(n[r]=function(...e){let i=t[r](...e);return i===t?n:i})})),n},dProxy:function(n){let r={};return e.keys.forEach((function(i){e.isFunction(i)&&(r[i]=function(...e){let o=t[i].apply(n,e);return o===t?r:o})})),r},not:{}};return l.not.before=s("before",l),l.not.after=s("after",l),l.not.around=s("around",l),l.not.provided=s("provided",l),l.not.except=s("except",l),l}const k="get",x="set",j="add",L="remove";const E="get",w="set",C="remove";function D(t){let e={},n=function(t){let e=P(t),n=new WeakMap;function r(t){if(n.has(t))return n.get(t);{function e(...e){e.pop(),t(...e)}return n.set(t,e),e}}return{bind:function(t,n){let i=r(n);t===x?(e.after(j,i),e.after(x,i)):e.after(t,i)},unbind:function(n,i){let o=i&&r(i);n===x?(i&&e.not.after(j,o),i&&e.not.after(x,o),!i&&(t[j].after=[]),!i&&(t[x].after=[])):(i&&e.not.after(n,o),!i&&(t[n].after=[]))},reset:function(){t[k].after=[],t[x].after=[],t[j].after=[],t[L].after=[]}}}(t);return e.get=function(t){return n.bind(E,t),e},e.set=function(t){return n.bind(w,t),e},e.remove=function(t){return n.bind(C,t),e},e.reset=n.reset,e.not={},e.not.get=function(t){return n.unbind(E,t),e},e.not.set=function(t){return n.unbind(w,t),e},e.not.remove=function(t){return n.unbind(C,t),e},e}const{isArray:F}=Array;function T(){let t=window,e=(t.Origami=t.Origami||{},t.Origami.Whale=t.Origami.Whale||{},t.Origami.Whale.Store=t.Origami.Whale.Store||function(t){let e=new Map,n=t||new Map,r={config:function(t){return t.store&&(e=new Map(Object.entries(t.store))),t.parent&&(n=t.parent),this},get:function(t){let r=e.get(t),i=n.get(t);return r&&r||i&&i||r},set:function(t,n){return e.set(t,n),this},add:function(t,n){let r=e.get(t);return F(r)?e.set(t,[...r,n]):e.set(t,[n]),this},keys:function(){let t=new Set,r=e.keys(),i=n.keys();for(let e of i)t.add(e);for(let e of r)t.add(e);return[...t]},has:function(t,n){let r=e.get(t);return F(r)?r.includes(n):void 0!==r},remove:function(t,n){let r=t=>void 0!==t;return r(t)&&r(n)&&function(t,n){let r=e.get(t),i=F(r),o=i&&r.filter(t=>t!==n);i&&e.set(t,o)}(t,n),r(t)&&!r(n)&&function(t){e.delete(t)}(t),!r(t)&&!r(n)&&e.clear(),this}};return r.hooks=D(r),r}(),t.Origami.Whale.Store);return{get:function(t){return e.get(t)},set:function(t,n){e.set(t,n)},keys:function(){return e.keys()},remove:function(t){e.remove(t)}}}const A=function(){let t=T();return{key:function(e){return t.get(e)},keys:function(){return t.keys()},define:function(e){for(let n in e){let r=e[n];t.set(n,r)}return this},undefine:function(e){if(e)for(let n in e)t.remove(n);else t.remove();return this}}}();var S={"Logger.Labels.Debug":"[DEBUG]","Logger.Labels.Info":" [INFO]","Logger.Labels.Warn":" [WARN]","Logger.Labels.Error":"[ERROR]","Logger.Labels.Fatal":"[FATAL]","Logger.Levels.Debug":1,"Logger.Levels.Info":2,"Logger.Levels.Warn":3,"Logger.Levels.Error":4,"Logger.Levels.Fatal":5,"Logger.Config.Format":"@Label @Target @Prefix - @Message","Logger.Config.Prefix":"","Logger.Config.Level":3};var W={install:function(){A.define(S)},uninstall:function(){A.undefine(S)}};function M(t,e){return function(n,...r){let i=A.key("Logger.Config.Level");n>=(t.level||i)&&e(n,...r)}}const I=A.key("Logger.Labels.Debug"),N=A.key("Logger.Labels.Info"),B=A.key("Logger.Labels.Warn"),R=A.key("Logger.Labels.Error"),U=A.key("Logger.Labels.Fatal"),K="",q=" ",z=[I,N,B,R,U];function G(t,e){return function(n,...r){let i=A.key("Logger.Config.Format")||K,o=A.key("Logger.Config.Prefix")||K,u=(A.key("Logger.Config.Level"),t.level,r.join(q)),c=z[n-1],f=t.Key,s=i;s=(s=(s=(s=s.replace("@Label",c)).replace("@Prefix",o)).replace("@Target",f)).replace("@Message",u),e(n,s)}}const H=console;function J(t,e){return function(t,...n){H.log(...n),e(t,...n)}}function Q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const X=A.key("Logger.Levels.Debug"),Y=A.key("Logger.Levels.Info"),Z=A.key("Logger.Levels.Warn"),$=A.key("Logger.Levels.Error"),_=A.key("Logger.Levels.Fatal");function tt(t,e){let n=e||{},r=n.filters,i=function(t){let e=[];return{filter:function(t){return(0,Array.isArray)(t)&&(e=[...e,...t]),(t=>"function"==typeof t)(t)&&(e=[...e,t]),this},create:function(){let n=[...e].reverse(),r=function(){};return function(...e){return n.reduce((function(e,n){return n(t,e)}),r)(...e)}}}}(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Q(n,!0).forEach((function(e){V(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},n,{Key:t})).filter(M).filter(G).filter(J).filter(r).create();return{debug:function(...t){i(X,...t)},info:function(...t){i(Y,...t)},warn:function(...t){i(Z,...t)},fatal:function(...t){i(_,...t)},error:function(...t){i($,...t)}}}var et={"Core.Id":"Core.Id","Core.Family":"Core.Family","Core.Family.Component":"Component","Core.Family.Extension":"Extension","Core.Family.Model":"Model","Core.Extensions.Pending":"Core.Extensions.Pending","Core.Extensions.Installed":"Core.Extensions.Installed"},nt={"Extension.Model":"Extension.Model","Extension.Provider":"Extension.Provider"};const rt="origami.chameleon",it="Package successfully installed",ot="Package successfully uninstalled";var ut=function(){const t=tt(rt);return{install:function(){A.define(et),A.define(nt),t.info(it)},uninstall:function(){A.undefine(et),A.undefine(nt),t.info(ot)}}}(),ct={"Extension.Trait.Policies":"Extension.Trait.Policies","Extension.Trait.Policies.Default":"Override","Extension.Trait.Policies.Override":"Override","Extension.Trait.Policies.Discard":"Discard","Extension.Trait.Policies.Before":"Before","Extension.Trait.Policies.After":"After"};const ft="origami.chameleon.traits",st="Package successfully installed",lt="Package successfully uninstalled";var at=function(){const t=tt(ft);return{install:function(){A.define(ct),t.info(st)},uninstall:function(){A.undefine(ct),t.info(lt)}}}();W.install(),ut.install(),at.install();const gt="function",pt="class";const{isFunction:yt,isClass:dt,isProperty:ht,isMethod:bt,isDescriptor:vt}=function(){function t(t){return typeof t===gt}return{isFunction:t,isClass:function(t){return t.toString().startsWith(pt)},isProperty:function(t){return t&&(t.get||t.set)},isMethod:function(e){return e&&e.value&&t(e.value)},isDescriptor:function(t){return t&&(t.value||t.get||t.set)}}}();function Ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ot(n,!0).forEach((function(e){Pt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ot(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kt(t){return function(e,n,r){if(bt(r)){let i=e.constructor,o=t(i,n,r),u=r;return yt(o)&&(u=mt({},u,{value:o})),vt(o)&&(u=mt({},u,{},o)),Reflect.defineProperty(e,n,u),u}}}function xt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const{isArray:Lt}=Array;function Et(t){let e={},n=g(e),r=g(t);let i={config:function(t){return r=t.parent||r,e=t.store||e,n=g(e),this},get:function(t){return n.has(t)?n.isObject(t)?function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(n,!0).forEach((function(e){jt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},r.get(t),{},n.get(t)):n.get(t):r.get(t)},set:function(t,e){return n.set(t,e),this},add:function(t,e){let r=n.get(t);return Lt(r)?n.set(t,[...r,e]):n.set(t,[e]),this},keys:function(t){let e=!!t,r=n.has(t);return e&&r?g(n.get(t)).keys:g(n.get()).keys},has:function(t,e){let r=n.get(t);return Lt(r)?r.includes(e):void 0!==r},remove:function(t,e){let r=t=>void 0!==t;function i(t){n.remove(t)}return r(t)&&r(e)&&function(t,e){let r=n.get(t),i=Lt(r),o=i&&r.filter(t=>t!==e);i&&n.set(t,o)}(t,e),r(t)&&!r(e)&&i(t),!r(t)&&!r(e)&&function(){let t=n.keys;for(let e of t)i(e)}(),this}};return i.hooks=D(i),i}const wt="class",Ct="object";function Dt(t){function e(t){return t.toString().startsWith(wt)}return{get object(){return function(t){return e(t)?t.prototype:t}(t)},get class(){return function(t){return e(t)?t:Reflect.getPrototypeOf(t).constructor}(t)},get isObject(){return function(t){return typeof t===Ct}(t)},get isClass(){return e(t)}}}const Ft=window;var Tt=(Ft.Origami=Ft.Origami||{},Ft.Origami.Chameleon=Ft.Origami.Chameleon||{},Ft.Origami.Chameleon.Store=Ft.Origami.Chameleon.Store||new WeakMap,Ft.Origami.Chameleon.Store);function At(t){return zt(t).registry}const St=A.key("Core.Extensions.Pending");let Wt=t=>Dt(t).isObject,Mt=t=>t;function It(t){return function(e){return{install:function(n){if(Wt(e))t(e).install(n);else{At(Mt(e)).add(St,n)}return this},uninstall:function(n){if(Wt(e))t(e).uninstall(n);else{At(Mt(e)).remove(St,n)}return this}}}}const Nt=A.key("Core.Extensions.Installed");function Bt(t){let e=At(t);function n(t){let n=e.get(Nt)||[];return t?n.find((t=>e=>e.class===t)(t)):n}function r(t){return!!n(t)}return{create:function(i){if(r(i))return n(i);{let n=function(t){return{create:function(e){let n=new e(t),r=!0;return{get core(){return t},get class(){return e},get provider(){return n},isOn:()=>r,on(){r=!0},off(){r=!1}}}}}(t).create(i);return e.add(Nt,n),n}},get:n,has:r,remove:function(t){let r=n(t);r&&e.remove(Nt,r)}}}function Rt(t){return function(e){let n=function(t){return function(e){return Bt(t).has(e)}}(e),r=t(e);return{install:function(t){return!n(t)&&r.install(t),this},uninstall:function(t){return n(t)&&r.uninstall(t),this}}}}function Ut(t){return function(e){let n=Bt(e),r=t(e);return{install:function(t){return n.create(t).provider.install(),r.install(t),this},uninstall:function(t){if(n.has(t)){n.get(t).provider.uninstall(),n.remove(t),r.uninstall(t)}return this}}}}const Kt=A.key("Extension.Provider");function qt(t){return function(e){let n=t(e);function r(t){return At(t).has(Kt)}function i(t){return At(t).get(Kt)}return{install:function(t){return r(t)&&(t=i(t)),!r(t)&&n.install(t),this},uninstall:function(t){return r(t)&&(t=i(t)),!r(t)&&n.uninstall(t),this}}}}function zt(t){return{get registry(){return function(t){let e=Dt(t).object,n=Tt.get(e)||Et();return Tt.set(e,n),n}(t)},get core(){return{get type(){return{}},get dom(){return{}},get reactive(){return{}},get style(){return{}}}},get extensions(){return function(t){let e=function(t){let e=[];return{filter:function(t){return t&&e.push(t),this},create:function(){return[...e].reverse().reduce((function(t,e){return e(t)}),(function(t){return{install(){return this},uninstall(){return this}}}))(t)}}}(t).filter(It).filter(qt).filter(Rt).filter(Ut).create();return{install:function(t){return e.install(t),this},uninstall:function(t){return e.uninstall(t),this}}}(t)}}}function Gt(t){return zt(t).registry}const Ht=A.key("Extension.Trait.Policies"),Jt=A.key("Extension.Trait.Policies.Default");let Qt=t=>({key:e})=>t===e,Vt=t=>({key:e})=>t!==e,Xt=t=>e=>e in t.prototype;function Yt(t){let e=Gt(t),n=Xt(t);function r(n,r){let o=r||Jt,u=t.prototype[n],c={get key(){return n},get handler(){return u},get policy(){return o}};return i(n),e.add(Ht,c),c}function i(t){let n=(e.get(Ht)||[]).filter(Vt(t));e.set(Ht,n)}return{get:function(t){let i=e.get(Ht)||[];if(t){let e=i.find(Qt(t));return e||n(t)&&r(t)}return i},set:r,has:function(t){if(t){return!!(e.get(Ht)||[]).find(Qt(t))}return!1},remove:i}}const Zt=A.key("Extension.Tratit.Policies.Override"),$t=kt((function(t,e){Yt(t).set(e,Zt)})),_t=A.key("Extension.Trait.Policies.Discard"),te=kt((function(t,e){Yt(t).set(e,_t)})),ee=A.key("Extension.Trait.Policies.Before"),ne=kt((function(t,e){Yt(t).set(e,ee)})),re=A.key("Extension.Trait.Policies.After"),ie=kt((function(t,e){Yt(t).set(e,re)}));const oe=A.key("Core.Id"),ue=A.key("Core.Family"),ce=A.key("Core.Family.Model"),fe=(se=function(t){let e=t.name,n=ce;At(t).set(oe,e).set(ue,n)},function(t){return se(t)});var se;const le=A.key("Core.Extensions.Installed");function ae(t){return function(e){let n=Gt(t).get(le)||[];return e?n.find((t=>e=>e.provider.ext===t)(e)):n}}function ge(t){return function(e){return function(n,...r){let i=t.trait.out[e];return i&&i.call(n,...r)}}}A.key("Extension.Trait.Policies.Default");const pe={[A.key("Extension.Trait.Policies.Discard")]:function(t,e,n){let r=ae(t)(e),i=ge(r)(n),o=function(t){return function(e){return!!t.trait.out[e]}}(r),u=r.isOn,c=e[n];return function(...t){return u()?o(n)?i(this,...t):c.call(e,...t):i(this,...t)}},[A.key("Extension.Trait.Policies.Override")]:function(t,e,n){let r=ae(t)(e),i=ge(r)(n),o=r.isOn,u=e[n];return function(...t){return o()?u.call(e,...t):i(this,...t)}},[A.key("Extension.Trait.Policies.Before")]:function(t,e,n){let r=ae(t)(e),i=ge(r)(n),o=r.isOn,u=e[n];return function(...t){if(o()){u.call(e,...t);return i(this,...t)}return i(this,...t)}},[A.key("Extension.Trait.Policies.After")]:function(t,e,n){let r=ae(t)(e),i=ge(r)(n),o=r.isOn,u=e[n];return function(...t){if(o()){let n=i(this,...t);return u.call(e,...t,n)}return i(this,...t)}}};let ye=t=>t.provider.class;let de=(t,e)=>n=>e[n]!==t.trait.in[n],he=t=>"constructor"!==t;function be(t){let e=ae(t);function n(t){let e=Reflect.getPrototypeOf(t);return Object.getOwnPropertyNames(e).filter(he)}return{create:function(r){let i=e(r),o=function(t,e){return function(n){let r=ae(t)(e),i=ye(r),{policy:o}=Yt(i).get(n);return pe[o](t,e,n)}}(t,r);i.trait={},i.trait.locus=t,i.trait.in={},i.trait.out={};for(let e of n(r)){let n=t[e],r=o(e);t[e]=r,i.trait.out[e]=n,i.trait.in[e]=r}i.on()},destroy:function(r){let i=e(r),o=de(i,t);for(let e of n(r))if(!o(e)){let n=i.trait.out[e];t[e]=n,!t[e]&&delete t[e]}i.off()}}}var ve;let Oe=tt("origami.chameleon.traits"),me=fe(ve=class{constructor(t){this.trait=be(t)}install(t){this.trait.create(t),Oe.info("Extension successfully installed")}uninstall(t){this.trait.destroy(t),Oe.info("Extension successfully uninstalled")}})||ve;export{ie as After,ne as Before,te as Discard,$t as Override,me as Trait};