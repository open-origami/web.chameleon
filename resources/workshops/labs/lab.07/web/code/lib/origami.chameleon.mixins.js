const e="object",t="array",n="function",r="number",i="boolean",o="string",u="undefined",c=".",f=void 0;let s=e=>t=>typeof e[t]!==n,l=e=>t=>typeof e[t]===n,a=e=>e=>"constructor"!==e;function g(g){function p(e){if((e=typeof e===u?g:e)===Object.prototype||e===Array.prototype||e===Function.prototype||e===String.prototype||e===Number.prototype||e===Boolean.prototype||null===e)return[];return[...p(Object.getPrototypeOf(e)),...Object.getOwnPropertyNames(e)].filter((function(e,t,n){return t<=n.indexOf(e)}))}function y(e){return e?e.split(c).reduce((function(e,t){return Array.isArray(e)&&isNaN(t)?e.map((function(e){return e[t]})):e&&e[t]}),g):g}function d(e){const n=y(e);return n instanceof Array?t:typeof n}function h(e){return d(e)===n}function b(e){return d(e)===t}function O(t){return d(t)===e}function v(e){return d(e)===u}function m(e,t){return p().reduce((function(t,n,r){return e(t,g[n],n,g)}),t)}return g=g||{},{at:function(e){if(p().length>e){const t=p()[e];return{key:t,value:y(t)}}},get keys(){return p()},get properties(){return p(g).filter(s(g))},get methods(){return p(g).filter(l(g)).filter(a())},get prototype(){return Object.getPrototypeOf(g)},get:y,set:function(e,t){return e.split(c).reduce((function(e,n,r,i){return e[n]=r<i.length-1?e[n]||{}:t}),g)},has:function(e){return!v(e)},remove:function(e){return e.split(c).reduce((function(e,t,n,r){return n<r.length-1?e?e[t]:f:e&&delete e[t]}),g)},type:d,isFunction:h,isArray:b,isObject:O,isNumber:function(e){return d(e)===r},isBoolean:function(e){return d(e)===i},isString:function(e){return d(e)===o},isPrimitive:function(e){return!(v(e)||O(e)||b(e)||h(e))},isUndefined:v,asArray:function(e){return b(e)?y(e):[y(e)]},asFunction:function(e){return h(e)?y(e):function(){return y(e)}},forEach:function(e){p().forEach((function(t,n){e(g[t],t,g)}))},map:function(e){return m((function(t,n,r){return t[r]=e(n),t}),{})},reduce:m,filter:function(e){return m((function(t,n,r){return e(n)&&(t[r]=n),t}),{})},every:function(e){return m((function(t,n,r){return t&&e(n)}),!0)},some:function(e){return m((function(t,n,r){return t||e(n)}),!1)}}}const p="before",y="after",d="around",h="provided",b="except",O=void 0;function v(e){function t(e){if(e.advisable)return e;const t=function(...n){let r=O;return t.provided.every(e=>e(...n))&&(t.except.some(e=>e(...n))||(r=t.before.reduce((e,t)=>t(...n,e),r),r=t.around.reduce((t,r)=>r(e,...n,t),r),0===t.around.length&&(r=e(...n)),r=t.after.reduce((e,t)=>t(...n,e),r)||r)),r};return t.provided=t.provided||[],t.except=t.except||[],t.before=t.before||[],t.after=t.after||[],t.around=t.around||[],t.advisable=!0,t}function n(t){return function(n){return e.advisable&&(e[t]=e[t].filter((function(e){return e!==n}))),e}}function r(t,n){return n=n||e,function(...e){let r=n(...e);return r===O?r:t(r)}}function i(t){return function(...n){setTimeout((function(){e(...n)}),t||0)}}return e=e||function(){},{fix:function(t){return function(...n){return e.apply(this,n.splice(0,t))}},first:function(...t){return function(...n){return e(...t,...n)}},last:function(...t){return function(...n){return e(...n,...t)}},lCurry:function(){return function t(...n){return n.length>=e.length?e(...n):function(...e){return t(...n,...e)}}()},rCurry:function(){return function t(...n){return n.length>=e.length?e(...n):function(...e){return t(...e,...n)}}()},before:function(n){return(e=t(e)).before.push(n),e},after:function(n){return(e=t(e)).after.push(n),e},around:function(n){return(e=t(e)).around.push(n),e},provided:function(n){return(e=t(e)).provided.push(n),e},except:function(n){return(e=t(e)).except.push(n),e},not:{before:n(p),after:n(y),around:n(d),provided:n(h),except:n(b)},composeWith:r,sequenceWith:function(...e){return e.reduce((function(e,t){return r(t,e)}),e=>e)},fluent:function(t,n){let r=n||function(){};return function(...n){return r(e(...n)),t}},memoize:function(){let t={};return function(...n){return n in t?t[n]:t[n]=e(...n)}},overload:function(...e){return function(...t){return(e.filter((function(e){return e.length===t.length}))[0]||(e=>e))(...t)}},delay:i,forever:function(t){return function(...n){return setInterval((function(){e(...n)}),t||0)}},retry:function(e,t){return function(...e){i(t)(...e)}},defer:function(){return i(0)}}}const m=void 0;function x(e){let t=g(e=(e=e||{}).prototype?e.prototype:e);function n(n,r){return t.isFunction(n)&&(e[n]=e[n].bind(r)),this}function r(t,n){return e[t]=n,this}function i(t){return delete e[t],this}function o(e,t){return t in e&&r(t,e[t]),this}function u(e,t){return o(e,t),x(e).remove(t),this}function c(){return x(Object.getPrototypeOf(e))}function f(t){return Object.getOwnPropertyDescriptor(e,t)}function s(t,n){return function(r,i){return e[r]=v(e[r]).not[t](i),n}}let l={get:function(){return e},bind:n,context:function(t){return g(e).keys.forEach((function(e){n(e,t)})),this},add:r,remove:i,update:function(t,n){return t in e&&r(t,n),this},rename:function(t,n){return t in e&&!(n in e)&&(r(n,e[t]),i(t)),this},copy:o,move:u,mix:function(e,t,r){g(e);const i=r||(e=>e);return g(e).keys.filter(i).filter(e=>"constructor"!==e).forEach((function(r){o(e,r),t&&n(r,t)})),this},clone:function(){return x(Object.assign({},e))},create:function(){return Object.create(e)},copyUp:function(t){return x(c().get()).copy(e,t),this},copyDown:function(e){return o(c().get(),e),this},moveUp:function(t){return x(c().get()).move(e,t),this},moveDown:function(e){return u(c().get(),e),this},prototype:function(t){return t==m?c():function(t){return t=t.prototype?t.prototype:t,Object.setPrototypeOf(e,t),x(e)}(t)},before:function(n,r){return t.isFunction(n)?e[n]=v(e[n]).before(r):function(t,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(t);Object.defineProperty(e,t,{get:function(){return n.get(),r.get()},set:function(e){n.set(e),r.set(e)}})}(n,r),this},after:function(n,r){return t.isFunction(n)?e[n]=v(e[n]).after(r):function(t,n){n.get=n.get||function(){},n.set=n.set||function(){};let r=f(t);Object.defineProperty(e,t,{get:function(){let e=n.get();return r.get(),e},set:function(e){r.set(e),n.set(e)}})}(n,r),this},around:function(t,n){return e[t]=v(e[t]).around(n),this},provided:function(t,n){return e[t]=v(e[t]).provided(n),this},except:function(t,n){return e[t]=v(e[t]).except(n),this},property:function(t,n){return n?(function(t,n){Object.defineProperty(e,t,n)}(t,n),this):f(t)},delegate:function(t,n){return e[t]=function(...r){let i=n[t].call(e,...r);return i===n?this:i},this},forward:function(t,n){return e[t]=function(...e){let r=n[t].call(n,...e);return r===n?this:r},this},fProxy:function(){let n={};return t.keys.forEach((function(r){t.isFunction(r)&&(n[r]=function(...t){let i=e[r](...t);return i===e?n:i})})),n},dProxy:function(n){let r={};return t.keys.forEach((function(i){t.isFunction(i)&&(r[i]=function(...t){let o=e[i].apply(n,t);return o===e?r:o})})),r},not:{}};return l.not.before=s("before",l),l.not.after=s("after",l),l.not.around=s("around",l),l.not.provided=s("provided",l),l.not.except=s("except",l),l}const P="get",k="set",j="add",L="remove";const E="get",w="set",C="remove";function M(e){let t={},n=function(e){let t=x(e),n=new WeakMap;function r(e){if(n.has(e))return n.get(e);{function t(...t){t.pop(),e(...t)}return n.set(e,t),t}}return{bind:function(e,n){let i=r(n);e===k?(t.after(j,i),t.after(k,i)):t.after(e,i)},unbind:function(n,i){let o=i&&r(i);n===k?(i&&t.not.after(j,o),i&&t.not.after(k,o),!i&&(e[j].after=[]),!i&&(e[k].after=[])):(i&&t.not.after(n,o),!i&&(e[n].after=[]))},reset:function(){e[P].after=[],e[k].after=[],e[j].after=[],e[L].after=[]}}}(e);return t.get=function(e){return n.bind(E,e),t},t.set=function(e){return n.bind(w,e),t},t.remove=function(e){return n.bind(C,e),t},t.reset=n.reset,t.not={},t.not.get=function(e){return n.unbind(E,e),t},t.not.set=function(e){return n.unbind(w,e),t},t.not.remove=function(e){return n.unbind(C,e),t},t}const{isArray:D}=Array;function F(){let e=window,t=(e.Origami=e.Origami||{},e.Origami.Whale=e.Origami.Whale||{},e.Origami.Whale.Store=e.Origami.Whale.Store||function(e){let t=new Map,n=e||new Map,r={config:function(e){return e.store&&(t=new Map(Object.entries(e.store))),e.parent&&(n=e.parent),this},get:function(e){let r=t.get(e),i=n.get(e);return r&&r||i&&i||r},set:function(e,n){return t.set(e,n),this},add:function(e,n){let r=t.get(e);return D(r)?t.set(e,[...r,n]):t.set(e,[n]),this},keys:function(){let e=new Set,r=t.keys(),i=n.keys();for(let t of i)e.add(t);for(let t of r)e.add(t);return[...e]},has:function(e,n){let r=t.get(e);return D(r)?r.includes(n):void 0!==r},remove:function(e,n){let r=e=>void 0!==e;return r(e)&&r(n)&&function(e,n){let r=t.get(e),i=D(r),o=i&&r.filter(e=>e!==n);i&&t.set(e,o)}(e,n),r(e)&&!r(n)&&function(e){t.delete(e)}(e),!r(e)&&!r(n)&&t.clear(),this}};return r.hooks=M(r),r}(),e.Origami.Whale.Store);return{get:function(e){return t.get(e)},set:function(e,n){t.set(e,n)},keys:function(){return t.keys()},remove:function(e){t.remove(e)}}}const A=function(){let e=F();return{key:function(t){return e.get(t)},keys:function(){return e.keys()},define:function(t){for(let n in t){let r=t[n];e.set(n,r)}return this},undefine:function(t){if(t)for(let n in t)e.remove(n);else e.remove();return this}}}();var S={"Logger.Labels.Debug":"[DEBUG]","Logger.Labels.Info":" [INFO]","Logger.Labels.Warn":" [WARN]","Logger.Labels.Error":"[ERROR]","Logger.Labels.Fatal":"[FATAL]","Logger.Levels.Debug":1,"Logger.Levels.Info":2,"Logger.Levels.Warn":3,"Logger.Levels.Error":4,"Logger.Levels.Fatal":5,"Logger.Config.Format":"@Label @Target @Prefix - @Message","Logger.Config.Prefix":"","Logger.Config.Level":3};var R={install:function(){A.define(S)},uninstall:function(){A.undefine(S)}};function W(e,t){return function(n,...r){let i=A.key("Logger.Config.Level");n>=(e.level||i)&&t(n,...r)}}const I=A.key("Logger.Labels.Debug"),N=A.key("Logger.Labels.Info"),B=A.key("Logger.Labels.Warn"),T=A.key("Logger.Labels.Error"),U=A.key("Logger.Labels.Fatal"),K="",q=" ",z=[I,N,B,T,U];function G(e,t){return function(n,...r){let i=A.key("Logger.Config.Format")||K,o=A.key("Logger.Config.Prefix")||K,u=(A.key("Logger.Config.Level"),e.level,r.join(q)),c=z[n-1],f=e.Key,s=i;s=(s=(s=(s=s.replace("@Label",c)).replace("@Prefix",o)).replace("@Target",f)).replace("@Message",u),t(n,s)}}const H=console;function J(e,t){return function(e,...n){H.log(...n),t(e,...n)}}function Q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const X=A.key("Logger.Levels.Debug"),Y=A.key("Logger.Levels.Info"),Z=A.key("Logger.Levels.Warn"),$=A.key("Logger.Levels.Error"),_=A.key("Logger.Levels.Fatal");function ee(e,t){let n=t||{},r=n.filters,i=function(e){let t=[];return{filter:function(e){return(0,Array.isArray)(e)&&(t=[...t,...e]),(e=>"function"==typeof e)(e)&&(t=[...t,e]),this},create:function(){let n=[...t].reverse(),r=function(){};return function(...t){return n.reduce((function(t,n){return n(e,t)}),r)(...t)}}}}(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(n,!0).forEach((function(t){V(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{Key:e})).filter(W).filter(G).filter(J).filter(r).create();return{debug:function(...e){i(X,...e)},info:function(...e){i(Y,...e)},warn:function(...e){i(Z,...e)},fatal:function(...e){i(_,...e)},error:function(...e){i($,...e)}}}var te={"Core.Id":"Core.Id","Core.Family":"Core.Family","Core.Family.Component":"Component","Core.Family.Extension":"Extension","Core.Family.Model":"Model","Core.Extensions.Pending":"Core.Extensions.Pending","Core.Extensions.Installed":"Core.Extensions.Installed"},ne={"Extension.Model":"Extension.Model","Extension.Provider":"Extension.Provider"};const re="origami.chameleon",ie="Package successfully installed",oe="Package successfully uninstalled";var ue=function(){const e=ee(re);return{install:function(){A.define(te),A.define(ne),e.info(ie)},uninstall:function(){A.undefine(te),A.undefine(ne),e.info(oe)}}}(),ce={"Extension.Mixin.Policies":"Extension.Mixin.Policies","Extension.Mixin.Policies.Default":"Override","Extension.Mixin.Policies.Override":"Override","Extension.Mixin.Policies.Discard":"Discard","Extension.Mixin.Policies.Before":"Before","Extension.Mixin.Policies.After":"After"};const fe="origami.chameleon.mixins",se="Package successfully installed",le="Package successfully uninstalled";var ae=function(){const e=ee(fe);return{install:function(){A.define(ce),e.info(se)},uninstall:function(){A.undefine(ce),e.info(le)}}}();R.install(),ue.install(),ae.install();const ge="function",pe="class";const{isFunction:ye,isClass:de,isProperty:he,isMethod:be,isDescriptor:Oe}=function(){function e(e){return typeof e===ge}return{isFunction:e,isClass:function(e){return e.toString().startsWith(pe)},isProperty:function(e){return e&&(e.get||e.set)},isMethod:function(t){return t&&t.value&&e(t.value)},isDescriptor:function(e){return e&&(e.value||e.get||e.set)}}}();function ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(n,!0).forEach((function(t){xe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ve(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pe(e){return function(t,n,r){if(be(r)){let i=t.constructor,o=e(i,n,r),u=r;return ye(o)&&(u=me({},u,{value:o})),Oe(o)&&(u=me({},u,{},o)),Reflect.defineProperty(t,n,u),u}}}function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const{isArray:Le}=Array;function Ee(e){let t={},n=g(t),r=g(e);let i={config:function(e){return r=e.parent||r,t=e.store||t,n=g(t),this},get:function(e){return n.has(e)?n.isObject(e)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(n,!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r.get(e),{},n.get(e)):n.get(e):r.get(e)},set:function(e,t){return n.set(e,t),this},add:function(e,t){let r=n.get(e);return Le(r)?n.set(e,[...r,t]):n.set(e,[t]),this},keys:function(e){let t=!!e,r=n.has(e);return t&&r?g(n.get(e)).keys:g(n.get()).keys},has:function(e,t){let r=n.get(e);return Le(r)?r.includes(t):void 0!==r},remove:function(e,t){let r=e=>void 0!==e;function i(e){n.remove(e)}return r(e)&&r(t)&&function(e,t){let r=n.get(e),i=Le(r),o=i&&r.filter(e=>e!==t);i&&n.set(e,o)}(e,t),r(e)&&!r(t)&&i(e),!r(e)&&!r(t)&&function(){let e=n.keys;for(let t of e)i(t)}(),this}};return i.hooks=M(i),i}const we="class",Ce="object";function Me(e){function t(e){return e.toString().startsWith(we)}return{get object(){return function(e){return t(e)?e.prototype:e}(e)},get class(){return function(e){return t(e)?e:Reflect.getPrototypeOf(e).constructor}(e)},get isObject(){return function(e){return typeof e===Ce}(e)},get isClass(){return t(e)}}}const De=window;var Fe=(De.Origami=De.Origami||{},De.Origami.Chameleon=De.Origami.Chameleon||{},De.Origami.Chameleon.Store=De.Origami.Chameleon.Store||new WeakMap,De.Origami.Chameleon.Store);function Ae(e){return ze(e).registry}const Se=A.key("Core.Extensions.Pending");let Re=e=>Me(e).isObject,We=e=>e;function Ie(e){return function(t){return{install:function(n){if(Re(t))e(t).install(n);else{Ae(We(t)).add(Se,n)}return this},uninstall:function(n){if(Re(t))e(t).uninstall(n);else{Ae(We(t)).remove(Se,n)}return this}}}}const Ne=A.key("Core.Extensions.Installed");function Be(e){let t=Ae(e);function n(e){let n=t.get(Ne)||[];return e?n.find((e=>t=>t.class===e)(e)):n}function r(e){return!!n(e)}return{create:function(i){if(r(i))return n(i);{let n=function(e){return{create:function(t){let n=new t(e),r=!0;return{get core(){return e},get class(){return t},get provider(){return n},isOn:()=>r,on(){r=!0},off(){r=!1}}}}}(e).create(i);return t.add(Ne,n),n}},get:n,has:r,remove:function(e){let r=n(e);r&&t.remove(Ne,r)}}}function Te(e){return function(t){let n=function(e){return function(t){return Be(e).has(t)}}(t),r=e(t);return{install:function(e){return!n(e)&&r.install(e),this},uninstall:function(e){return n(e)&&r.uninstall(e),this}}}}function Ue(e){return function(t){let n=Be(t),r=e(t);return{install:function(e){return n.create(e).provider.install(),r.install(e),this},uninstall:function(e){if(n.has(e)){n.get(e).provider.uninstall(),n.remove(e),r.uninstall(e)}return this}}}}const Ke=A.key("Extension.Provider");function qe(e){return function(t){let n=e(t);function r(e){return Ae(e).has(Ke)}function i(e){return Ae(e).get(Ke)}return{install:function(e){return r(e)&&(e=i(e)),!r(e)&&n.install(e),this},uninstall:function(e){return r(e)&&(e=i(e)),!r(e)&&n.uninstall(e),this}}}}function ze(e){return{get registry(){return function(e){let t=Me(e).object,n=Fe.get(t)||Ee();return Fe.set(t,n),n}(e)},get core(){return{get type(){return{}},get dom(){return{}},get reactive(){return{}},get style(){return{}}}},get extensions(){return function(e){let t=function(e){let t=[];return{filter:function(e){return e&&t.push(e),this},create:function(){return[...t].reverse().reduce((function(e,t){return t(e)}),(function(e){return{install(){return this},uninstall(){return this}}}))(e)}}}(e).filter(Ie).filter(qe).filter(Te).filter(Ue).create();return{install:function(e){return t.install(e),this},uninstall:function(e){return t.uninstall(e),this}}}(e)}}}function Ge(e){return ze(e).registry}const He=A.key("Extension.Mixin.Policies"),Je=A.key("Extension.Mixin.Policies.Default");let Qe=e=>({key:t})=>e===t,Ve=e=>({key:t})=>e!==t,Xe=e=>t=>t in e.prototype;function Ye(e){let t=Ge(e),n=Xe(e);function r(n,r){let o=r||Je,u=e.prototype[n],c={get key(){return n},get handler(){return u},get policy(){return o}};return i(n),t.add(He,c),c}function i(e){let n=(t.get(He)||[]).filter(Ve(e));t.set(He,n)}return{get:function(e){let i=t.get(He)||[];if(e){let t=i.find(Qe(e));return t||n(e)&&r(e)}return i},set:r,has:function(e){if(e){return!!(t.get(He)||[]).find(Qe(e))}return!1},remove:i}}const Ze=A.key("Extension.Mixin.Policies.Override"),$e=Pe((function(e,t){Ye(e).set(t,Ze)})),_e=A.key("Extension.Mixin.Policies.Discard"),et=Pe((function(e,t){Ye(e).set(t,_e)})),tt=A.key("Extension.Mixin.Policies.Before"),nt=Pe((function(e,t){Ye(e).set(t,tt)})),rt=A.key("Extension.Mixin.Policies.After"),it=Pe((function(e,t){Ye(e).set(t,rt)}));const ot=A.key("Core.Id"),ut=A.key("Core.Family"),ct=A.key("Core.Family.Model"),ft=(st=function(e){let t=e.name,n=ct;Ae(e).set(ot,t).set(ut,n)},function(e){return st(e)});var st;const lt=A.key("Core.Extensions.Installed");function at(e){return function(t){let n=Ge(e).get(lt)||[];return t?n.find((e=>t=>t.provider.ext===e)(t)):n}}function gt(e){return function(t){return function(n,...r){let i=e.mixin.locus,o=Reflect.getPrototypeOf(i);return o[t]&&o[t].call(n,...r)}}}A.key("Extension.Mixin.Policies.Default");const pt={[A.key("Extension.Mixin.Policies.Discard")]:function(e,t,n){let r=at(e)(t),i=gt(r)(n),o=function(e){return function(t){let n=e.mixin.locus;return!!Reflect.getPrototypeOf(n)[t]}}(r),u=r.isOn,c=t[n];return function(...e){return u()?o(n)?i(this,...e):c.call(this,...e):i(this,...e)}},[A.key("Extension.Mixin.Policies.Override")]:function(e,t,n){let r=at(e)(t),i=gt(r)(n),o=r.isOn,u=t[n];return function(...e){return o()?u.call(this,...e):i(this,...e)}},[A.key("Extension.Mixin.Policies.Before")]:function(e,t,n){let r=at(e)(t),i=gt(r)(n),o=r.isOn,u=t[n];return function(...e){if(o()){u.call(this,...e);return i(this,...e)}return i(this,...e)}},[A.key("Extension.Mixin.Policies.After")]:function(e,t,n){let r=at(e)(t),i=gt(r)(n),o=r.isOn,u=t[n];return function(...e){if(o()){let t=i(this,...e);return u.call(this,...e,t)}return i(this,...e)}}};let yt=e=>e.provider.class;let dt=e=>e.provider.class,ht=e=>"constructor"!==e;function bt(e){let t=at(e);return{create:function(n){let r=t(n),i=dt(r),o=function(e,t){return function(n){let r=at(e)(t),i=yt(r),{policy:o}=Ye(i).get(n);return pt[o](e,t,n)}}(e,n),u=Reflect.getPrototypeOf(e),c=n;r.mixin={},r.mixin.locus=c,r.mixin.in={},r.mixin.out={};for(let e of function(e){let t=Reflect.getPrototypeOf(e);return Object.getOwnPropertyNames(t).filter(ht)}(n)){let t=u[e],n=o(e);c[e]=n,r.mixin.out[e]=t,r.mixin.in[e]=n}Reflect.setPrototypeOf(e,c),Reflect.setPrototypeOf(c,u),c.constructor=i,r.on()},destroy:function(n){let r=t(n),i=(dt(r),r.mixin.locus),o=e,u=Reflect.getPrototypeOf(e);for(;u!==i;)o=u,u=Reflect.getPrototypeOf(u);u=Reflect.getPrototypeOf(i),Reflect.setPrototypeOf(o,u),r.off()}}}var Ot;let vt=ee("origami.chameleon.mixins"),mt=ft(Ot=class{constructor(e){this.mixin=bt(e)}install(e){this.mixin.create(e),vt.info("Extension successfully installed")}uninstall(e){this.mixin.destroy(e),vt.info("Extension successfully uninstalled")}})||Ot;export{it as After,nt as Before,et as Discard,mt as Mixin,$e as Override};